.button {
  display: inline-block;
  position: relative;
  padding: @button-padding;
  background: @button-bg-color;
  .border-radius(@button-border-radius);
  border:@button-border;
  border-color:@button-border-color;
  .font-size(@button-font-size);
  color: @button-color;
  line-height:@button-height;
  .transition(background .5s ease, color .5s ease, opacity .5s ease, transform .5s ease;);

  &:hover {
    .transition(background .5s ease, color .5s ease, opacity .5s ease, transform .2s ease;);
    background: @button-bg-color-hover;
    color: @button-color-hover;
    border-color: @button-border-color-hover;
    .scale(@button-scale-hover);
  }
  &:active {
    .transition(background .1s ease, color .1s ease, opacity .1s ease, transform .1s ease;);
    background: @button-bg-color-active;
    color: @button-color-active;
    border-color: @button-border-color-active;
    .scale(@button-scale-active);
  }
  &:focus {outline:0;}

  &.fluid {
    width:100%;
  }
  div[data-icon],div[data-icon]:before{
    .transition(background .5s ease, color .5s ease, opacity .5s ease, transform .5s ease;);
  }

  &.labeled {
    padding: 0;
    overflow: hidden;
    * {
      padding: @button-padding;
      display: table-cell;
      &:first-child {
        background: @button-labeled-bg-color;
        .border-radiuses(@border-radius-base,0,0,@border-radius-base)
      }
      &:last-child {
        .border-radiuses(0,@border-radius-base,@border-radius-base,0)
      }
    }
    &:hover * {
      &:first-child {
        background: @button-labeled-bg-color-hover;
      }
    }
    &:active {
      padding: 0;
      * {
        &:first-child {
          background: @button-labeled-bg-color-active;
        }
      }
    }
  }

  &.circular {
    padding: 0;
    min-width: @button-height+2;
    .border-radiuses(50%,50%,50%,50%);
    [data-icon] {
      margin-right: 0;
    }
  }

  /* sizing */
  &.button-huge {
    .font-size(@button-huge-font-size);
    line-height:@button-huge-height;
  }
  &.button-big {;
    .font-size(@button-big-font-size);
    line-height:@button-big-height;
  }
  &.button-small {
    .font-size(@button-small-font-size);
    line-height:@button-small-height;
  }

  /* coloring */
  &.button-primary {
    .button-color(@button-primary-bg-color,@button-primary-border-color,@button-primary-color,
            @button-primary-bg-color-hover,@button-primary-border-color-hover,@button-primary-color-hover,
            @button-primary-bg-color-active,@button-primary-border-color-active,@button-primary-color-active,
            @button-primary-labeled-bg-color,@button-primary-labeled-bg-color-hover,@button-primary-labeled-bg-color-active);
  }
  &.button-secondary {
    .button-color(@button-secondary-bg-color,@button-secondary-border-color,@button-secondary-color,
            @button-secondary-bg-color-hover,@button-secondary-border-color-hover,@button-secondary-color-hover,
            @button-secondary-bg-color-active,@button-secondary-border-color-active,@button-secondary-color-active,
            @button-secondary-labeled-bg-color,@button-secondary-labeled-bg-color-hover,@button-secondary-labeled-bg-color-active);
  }
  &.button-white {
    .button-color(@button-white-bg-color,@button-white-border-color,@button-white-color,
            @button-white-bg-color-hover,@button-white-border-color-hover,@button-white-color-hover,
            @button-white-bg-color-active,@button-white-border-color-active,@button-white-color-active,
            @button-white-labeled-bg-color,@button-white-labeled-bg-color-hover,@button-white-labeled-bg-color-active);
  }
  &.button-grey {
    .button-color(@button-grey-bg-color,@button-grey-border-color,@button-grey-color,
            @button-grey-bg-color-hover,@button-grey-border-color-hover,@button-grey-color-hover,
            @button-grey-bg-color-active,@button-grey-border-color-active,@button-grey-color-active,
            @button-grey-labeled-bg-color,@button-grey-labeled-bg-color-hover,@button-grey-labeled-bg-color-active);
  }
  &.button-green {
    .button-color(@button-green-bg-color,@button-green-border-color,@button-green-color,
            @button-green-bg-color-hover,@button-green-border-color-hover,@button-green-color-hover,
            @button-green-bg-color-active,@button-green-border-color-active,@button-green-color-active,
            @button-green-labeled-bg-color,@button-green-labeled-bg-color-hover,@button-green-labeled-bg-color-active);
  }
  &.button-red {
    .button-color(@button-red-bg-color,@button-red-border-color,@button-red-color,
            @button-red-bg-color-hover,@button-red-border-color-hover,@button-red-color-hover,
            @button-red-bg-color-active,@button-red-border-color-active,@button-red-color-active,
            @button-red-labeled-bg-color,@button-red-labeled-bg-color-hover,@button-red-labeled-bg-color-active);
  }
  &.button-disabled {
    .button-color(@button-disabled-bg-color,@button-disabled-border-color,@button-disabled-color,
            @button-disabled-bg-color-hover,@button-disabled-border-color-hover,@button-disabled-color-hover,
            @button-disabled-bg-color-active,@button-disabled-border-color-active,@button-disabled-color-active,
            @button-disabled-labeled-bg-color,@button-disabled-labeled-bg-color-hover,@button-disabled-labeled-bg-color-active);
  }
  &.button-transparent {
    .opacity(@button-transparent);
    &:hover {
      .opacity(@button-transparent-hover);
    }
    &:active {
      .opacity(@button-transparent-active);
    }
  }

  &.button-caps {
    text-transform: uppercase;
  }

  &.button-block {
    display: block;
    width: 100%;
    text-align: center;
  }

  &.button-outline {

    .button-outliner(@loc-btn-color:@button-bg-color,
                     @loc-btn-color-hover:@button-bg-color-hover,
                     @loc-btn-color-active:@button-bg-color-active) {
      border-color: @loc-btn-color;
      color: @loc-btn-color;
      &:hover, &:hover * {
        border-color: @loc-btn-color-hover;
        color: @loc-btn-color-hover;
      }
      &:active, &:active * {
        border-color: @loc-btn-color-active;
        color: @loc-btn-color-active;
      }
    }

    background: none;
    border: @button-outline-border;
    .border-radius(@button-border-radius*2);
    .button-outliner();
    &:hover, &:hover *, * {
      background: none !important;
    }

    &.button-primary, &.button-primary * {
      .button-outliner(@button-primary-bg-color,@button-primary-bg-color-hover,@button-primary-bg-color-active);
    }
    &.button-secondary, &.button-secondary * {
      .button-outliner(@button-secondary-bg-color,@button-secondary-bg-color-hover,@button-secondary-bg-color-active);
    }
    &.button-grey, &.button-grey * {
      .button-outliner(@button-grey-bg-color,@button-grey-bg-color-hover,@button-grey-bg-color-active);
    }
    &.button-white, &.button-white * {
      .button-outliner(@button-white-bg-color,@button-white-bg-color-hover,@button-white-bg-color-active);
    }
    &.button-green, &.button-green * {
      .button-outliner(@button-green-bg-color,@button-green-bg-color-hover,@button-green-bg-color-active);
    }
    &.button-red, &.button-red * {
      .button-outliner(@button-red-bg-color,@button-red-bg-color-hover,@button-red-bg-color-active);
    }
    &.button-disabled, &.button-disabled * {
      .button-outliner(@button-disabled-bg-color,@button-disabled-bg-color-hover,@button-disabled-bg-color-active);
    }
  }
}

.button-group {
  @scale-active:@button-scale-active;
  @scale-hover:@button-scale-hover;

  position: relative;
  display: inline-block;
  margin: 0;
  list-style: none;
  font-size: 0;
  li {
    display: inline-block;
    .button {
      margin:0;
      .border-radius();
      &:active {
        .scaleXY(1,@scale-active);
        [data-icon],[data-icon]:before {
          .scaleXY(0.9,0.9/@scale-active);
        }
      }
      &:hover {
        .scaleXY(1,@scale-hover);
        [data-icon],[data-icon]:before {
          .scaleXY(1.2,1.2/@scale-hover);
        }
      }
    }
    &:first-child .button {
      .border-radiuses(@button-border-radius,0,0,@button-border-radius);
      &:active {
        .scaleXY(1,@scale-active);
        [data-icon],[data-icon]:before {
          .scaleXY(0.9,0.9/@scale-active);
        }
      }
      &:hover {
        .scaleXY(1,@scale-hover);
        [data-icon],[data-icon]:before {
          .scaleXY(1.2,1.2/@scale-hover);
        }
      }
    }
    &:last-of-type .button {
      .border-radiuses(0,@button-border-radius,@button-border-radius,0);
      &:active {
        .scaleXY(1,@scale-active);
        [data-icon],[data-icon]:before {
          .scaleXY(0.9,0.9/@scale-active);
        }
      }
      &:hover {
        .scaleXY(1,@scale-hover);
        [data-icon],[data-icon]:before {
          .scaleXY(1.2,1.2/@scale-hover);
        }
      }
    }
  }

  &.vertical {
    li {
      display: block;
      .button {
        display: block;
        width:100%;
        margin:0;
        .border-radius();
        [data-icon],[data-icon]:before {
          margin-right: 0;
        }
        &:active {
          .scaleXY(@scale-active,1);
          [data-icon],[data-icon]:before {
            .scaleXY(0.9/@scale-active,0.9);
          }
        }
        &:hover {
          .scaleXY(@scale-hover,1);
          [data-icon],[data-icon]:before {
            .scaleXY(1.2/@scale-hover,1.2);
          }
        }
      }
      &:first-child .button {
        .border-radiuses(@button-border-radius,@button-border-radius,0,0);
        &:active {
          .scaleXY(@scale-active,1);
          [data-icon],[data-icon]:before {
            .scaleXY(0.9/@scale-active,0.9);
          }
        }
        &:hover {
          .scaleXY(@scale-hover,1);
          [data-icon],[data-icon]:before {
            .scaleXY(1.2/@scale-hover,1.2);
          }
        }
      }
      &:last-of-type .button {
        .border-radiuses(0, 0, @button-border-radius, @button-border-radius);
        &:active {
          .scaleXY(@scale-active, 1);
          [data-icon], [data-icon]:before {
            .scaleXY(0.9/@scale-active, 0.9);
          }
        }
        &:hover {
          .scaleXY(@scale-hover, 1);
          [data-icon], [data-icon]:before {
            .scaleXY(1.2/@scale-hover, 1.2);
          }
        }
      }
    }

  }
}

.button-navbar {
  .button {
    font-size: (11/16) + em;
  }
  .active {
    background: @primary;
    color: @white;
    &:hover {
      background: darken(@primary, 5%);
    }
  }
}

.button.icon-right [data-icon] {
  margin-right:0;
  margin-left:.5em;
}
.button.button-only-icon [data-icon] {
  margin-right:0;
  margin-left:0;
}

@media @mobile-down {
  .button.block-mobile:not(@{block-mobile-exeptions}) {
    display:block;
    width:100%;
  }
}